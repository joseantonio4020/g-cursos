<div class="dashboard-container">
  <h1 class="mb-4">
    <i class="bi bi-speedometer2"></i> Dashboard
  </h1>
  
  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
    <p class="mt-3">Cargando información...</p>
  </div>
  
  <div *ngIf="!loading">
    <!-- Tarjetas de estadísticas -->
    <div class="row g-4 mb-4">
      <div class="col-md-3 col-sm-6">
        <div class="card stats-card bg-primary text-white">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h6 class="card-subtitle mb-2">Total Cursos</h6>
                <h2 class="card-title mb-0">{{ totalCursos }}</h2>
              </div>
              <i class="bi bi-journal-bookmark fs-1"></i>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-md-3 col-sm-6">
        <div class="card stats-card bg-success text-white">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h6 class="card-subtitle mb-2">Cursos Activos</h6>
                <h2 class="card-title mb-0">{{ cursosActivos }}</h2>
              </div>
              <i class="bi bi-check-circle fs-1"></i>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-md-3 col-sm-6">
        <div class="card stats-card bg-info text-white">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h6 class="card-subtitle mb-2">Total Estudiantes</h6>
                <h2 class="card-title mb-0">{{ totalEstudiantes }}</h2>
              </div>
              <i class="bi bi-people fs-1"></i>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-md-3 col-sm-6">
        <div class="card stats-card bg-warning text-white">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h6 class="card-subtitle mb-2">Estudiantes Activos</h6>
                <h2 class="card-title mb-0">{{ estudiantesActivos }}</h2>
              </div>
              <i class="bi bi-person-check fs-1"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Accesos rápidos -->
    <div class="row g-4 mb-4">
      <div class="col-md-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-lightning"></i> Accesos Rápidos
            </h5>
            <div class="d-grid gap-2">
              <a routerLink="/cursos/nuevo" class="btn btn-primary">
                <i class="bi bi-plus-circle"></i> Nuevo Curso
              </a>
              <a routerLink="/estudiantes/nuevo" class="btn btn-info text-white">
                <i class="bi bi-person-plus"></i> Nuevo Estudiante
              </a>
              <a routerLink="/estadisticas" class="btn btn-secondary">
                <i class="bi bi-graph-up"></i> Ver Estadísticas
              </a>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-md-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-clock-history"></i> Últimos Cursos
            </h5>
            
            <div *ngIf="getUltimosCursos().length === 0" class="alert alert-info">
              <i class="bi bi-info-circle"></i> No hay cursos registrados.
            </div>
            
            <ul class="list-group list-group-flush" *ngIf="getUltimosCursos().length > 0">
              <li class="list-group-item" *ngFor="let curso of getUltimosCursos()">
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                    <strong>{{ curso.nombre }}</strong>
                    <br>
                    <small class="text-muted">
                      <span class="badge bg-secondary">{{ curso.categoria }}</span>
                      <span class="badge" 
                            [ngClass]="{
                              'bg-success': curso.estado === 'activo',
                              'bg-danger': curso.estado === 'cancelado',
                              'bg-warning': curso.estado === 'finalizado'
                            }">
                        {{ curso.estado }}
                      </span>
                    </small>
                  </div>
                  <a [routerLink]="['/cursos/detalle', curso.id]" class="btn btn-sm btn-outline-primary">
                    Ver
                  </a>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>