<div class="dashboard-wrapper">
  <!-- Header del Dashboard -->
  <div class="dashboard-header">
    <div class="header-content">
      <div class="welcome-section">
        <h1 class="welcome-title">¡Bienvenido!</h1>
        <p class="welcome-subtitle">gestor de los cursos y estudiantes</p>
      </div>
      <div class="header-actions">
        <button class="btn-quick-action" routerLink="/cursos/nuevo">
          <i class="bi bi-plus-circle"></i>
          <span>Nuevo Curso</span>
        </button>
        <button class="btn-quick-action secondary" routerLink="/estudiantes/nuevo">
          <i class="bi bi-person-plus"></i>
          <span>Nuevo Estudiante</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-state">
    <div class="loader">
      <div class="spinner-custom"></div>
      <p>Cargando información...</p>
    </div>
  </div>

  <!-- Main Content -->
  <div *ngIf="!loading" class="dashboard-content">
    
    <!-- Stats Cards -->
    <div class="stats-grid">
      <div class="stat-card card-purple">
        <div class="stat-icon">
          <i class="bi bi-journal-bookmark"></i>
        </div>
        <div class="stat-info">
          <p class="stat-label">Total Cursos</p>
          <h3 class="stat-value">{{ totalCursos }}</h3>
          <span class="stat-badge">
            <i class="bi bi-arrow-up"></i> Activos
          </span>
        </div>
        <div class="stat-decoration"></div>
      </div>

      <div class="stat-card card-green">
        <div class="stat-icon">
          <i class="bi bi-check-circle"></i>
        </div>
        <div class="stat-info">
          <p class="stat-label">Cursos Activos</p>
          <h3 class="stat-value">{{ cursosActivos }}</h3>
          <span class="stat-badge">
            <i class="bi bi-graph-up"></i> En progreso
          </span>
        </div>
        <div class="stat-decoration"></div>
      </div>

      <div class="stat-card card-blue">
        <div class="stat-icon">
          <i class="bi bi-people"></i>
        </div>
        <div class="stat-info">
          <p class="stat-label">Total Estudiantes</p>
          <h3 class="stat-value">{{ totalEstudiantes }}</h3>
          <span class="stat-badge">
            <i class="bi bi-person-check"></i> Inscritos
          </span>
        </div>
        <div class="stat-decoration"></div>
      </div>

      <div class="stat-card card-orange">
        <div class="stat-icon">
          <i class="bi bi-trophy"></i>
        </div>
        <div class="stat-info">
          <p class="stat-label">Estudiantes Activos</p>
          <h3 class="stat-value">{{ estudiantesActivos }}</h3>
          <span class="stat-badge">
            <i class="bi bi-star"></i> Activos
          </span>
        </div>
        <div class="stat-decoration"></div>
      </div>
    </div>

    <!-- Main Grid -->
    <div class="main-grid">
      
      <!-- Quick Actions -->
      <div class="quick-actions-card">
        <div class="card-header-custom">
          <div class="header-icon purple">
            <i class="bi bi-lightning-charge"></i>
          </div>
          <div>
            <h3>Accesos Rápidos</h3>
            <p>Acciones frecuentes</p>
          </div>
        </div>
        
        <div class="actions-grid">
          <a routerLink="/cursos/nuevo" class="action-item purple">
            <div class="action-icon">
              <i class="bi bi-plus-circle"></i>
            </div>
            <div class="action-content">
              <h4>Nuevo Curso</h4>
              <p>Crear un curso nuevo</p>
            </div>
            <i class="bi bi-arrow-right action-arrow"></i>
          </a>

          <a routerLink="/estudiantes/nuevo" class="action-item blue">
            <div class="action-icon">
              <i class="bi bi-person-plus"></i>
            </div>
            <div class="action-content">
              <h4>Nuevo Estudiante</h4>
              <p>Registrar estudiante</p>
            </div>
            <i class="bi bi-arrow-right action-arrow"></i>
          </a>

          <a routerLink="/cursos" class="action-item green">
            <div class="action-icon">
              <i class="bi bi-journal-text"></i>
            </div>
            <div class="action-content">
              <h4>Ver Cursos</h4>
              <p>Listado completo</p>
            </div>
            <i class="bi bi-arrow-right action-arrow"></i>
          </a>

          <a routerLink="/estadisticas" class="action-item orange">
            <div class="action-icon">
              <i class="bi bi-graph-up-arrow"></i>
            </div>
            <div class="action-content">
              <h4>Estadísticas</h4>
              <p>Ver reportes</p>
            </div>
            <i class="bi bi-arrow-right action-arrow"></i>
          </a>
        </div>
      </div>

      <!-- Recent Courses -->
      <div class="recent-courses-card">
        <div class="card-header-custom">
          <div class="header-icon blue">
            <i class="bi bi-clock-history"></i>
          </div>
          <div>
            <h3>Últimos Cursos</h3>
            <p>Cursos recientes</p>
          </div>
          <a routerLink="/cursos" class="view-all-link">
            Ver todos
            <i class="bi bi-arrow-right"></i>
          </a>
        </div>

        <!-- Empty State -->
        <div *ngIf="getUltimosCursos().length === 0" class="empty-state">
          <div class="empty-icon">
            <i class="bi bi-inbox"></i>
          </div>
          <h4>No hay cursos aún</h4>
          <p>Comienza creando tu primer curso</p>
          <a routerLink="/cursos/nuevo" class="btn-empty-action">
            <i class="bi bi-plus-circle"></i>
            Crear Curso
          </a>
        </div>

        <!-- Courses List -->
        <div *ngIf="getUltimosCursos().length > 0" class="courses-list">
          <div *ngFor="let curso of getUltimosCursos()" class="course-item">
            <div class="course-color-bar" 
                 [ngClass]="{
                   'bar-green': curso.estado === 'activo',
                   'bar-orange': curso.estado === 'finalizado',
                   'bar-red': curso.estado === 'cancelado'
                 }">
            </div>
            <div class="course-info">
              <h4 class="course-title">{{ curso.nombre }}</h4>
              <div class="course-meta">
                <span class="meta-item">
                  <i class="bi bi-tag"></i>
                  {{ curso.categoria }}
                </span>
                <span class="meta-item">
                  <i class="bi bi-person"></i>
                  {{ curso.instructor }}
                </span>
              </div>
              <div class="course-badges">
                <span class="badge-custom" 
                      [ngClass]="{
                        'badge-green': curso.estado === 'activo',
                        'badge-orange': curso.estado === 'finalizado',
                        'badge-red': curso.estado === 'cancelado'
                      }">
                  {{ curso.estado }}
                </span>
                <span class="badge-custom badge-light">
                  <i class="bi bi-people"></i>
                  {{ curso.estudiantesInscritos }} estudiantes
                </span>
              </div>
            </div>
            <a [routerLink]="['/cursos/detalle', curso.id]" class="course-action">
              <i class="bi bi-arrow-right"></i>
            </a>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>